{"version":3,"sources":["webpack:///./src/views/main_views/Shopcart.vue?b936","webpack:///./src/views/main_views/Shopcart.vue?a845","webpack:///src/views/main_views/Shopcart.vue","webpack:///./src/views/main_views/Shopcart.vue?4bc0","webpack:///./src/views/main_views/Shopcart.vue?769c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","allShopcartData","length","attrs","isEdit","on","manage","isFinished","loadData","model","value","callback","$$v","isLoading","expression","_l","item","index","key","scopedSlots","_u","fn","$event","removeShopcart","proxy","simpleSelect","$set","small_img","_v","_s","name","enname","rule","directives","rawName","price","changeCount","shopcartData","total","commit","allSelect","isAllChecked","isLogin","style","color","borderColor","padding","staticStyle","class","goPage","pid","smallImg","_e","staticRenderFns","component"],"mappings":"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JA,WAKA,OACA,aACA,gBACA,QACA,aAIA,QAbA,WAaA,WAEA,yCAEA,MAKA,+CAEA,4BAEA,YACA,aACA,uBACA,QACA,mBACA,iBAEA,kBACA,wBACA,oBACA,uBACA,kBAEA,6CACA,sBACA,UAGA,8BACA,gBAEA,6CACA,mBACA,cAKA,6BApCA,iBAwCA,2BAEA,2GAIA,SAEA,SAFA,WAEA,WAEA,uBAEA,eAEA,iDAEA,6CACA,iBACA,WAIA,uDAEA,MAIA,UAtBA,WAuBA,WACA,kEAGA,aA3BA,SA2BA,GACA,WACA,2CACA,mCAEA,YADA,sBAKA,sBAKA,IAzCA,WAyCA,WACA,aACA,uCACA,cACA,kCAOA,YApDA,SAoDA,cACA,wBACA,YACA,cACA,2BACA,MACA,mBACA,cACA,UACA,eAEA,2CACA,kBACA,WACA,wBAMA,OAxEA,WAyEA,6CAIA,eA7EA,SA6EA,gBAGA,qBACA,eACA,WACA,mBAGA,SAWA,GAVA,SACA,uCACA,aACA,kBAGA,UACA,cAGA,aAOA,wBAGA,wBAEA,YACA,cACA,sBACA,MACA,mBACA,cACA,QAEA,2CACA,kBACA,iBAEA,kBACA,mBAEA,uDACA,QACA,2BACA,sBAEA,mBACA,yBAhCA,aACA,oBAqCA,OAxIA,WA2IA,SACA,uCACA,aACA,iBAIA,YAQA,mBACA,WACA,OACA,oBATA,kBACA,mBAaA,iBAlKA,WAkKA,WACA,YACA,aACA,oBACA,QACA,mBACA,YACA,WAEA,kBACA,gCACA,kBACA,6CACA,oBACA,aAGA,wBAMA,OAzLA,SAyLA,GACA,mBACA,cACA,QACA,YChViW,I,wBCQ7VC,EAAY,eACd,EACA7D,EACA4D,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-c92a5822.5b0c228c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopcart.vue?vue&type=style&index=0&id=54b9ccef&lang=less&scoped=scoped&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopcart.vue?vue&type=style&index=0&id=54b9ccef&lang=less&scoped=scoped&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopcart\"},[(_vm.allShopcartData.length > 0)?[_c('van-nav-bar',{attrs:{\"fixed\":true,\"right-text\":_vm.isEdit ? '完成' : '管理'},on:{\"click-right\":_vm.manage}}),_c('div',{staticClass:\"list\"},[_c('van-list',{attrs:{\"finished-text\":\"没有更多了\",\"immediate-check\":false,\"finished\":_vm.isFinished},on:{\"load\":_vm.loadData},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},_vm._l((_vm.shopcartData),function(item,index){return _c('van-swipe-cell',{key:index,attrs:{\"disabled\":!_vm.isEdit},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-button',{staticClass:\"v-button\",attrs:{\"square\":\"\",\"color\":\"linear-gradient(to right, #CBA25F, #D39027)\",\"text\":\"删除\"},on:{\"click\":function($event){return _vm.removeShopcart('one', item)}}})]},proxy:true}],null,true)},[_c('van-cell',[_c('div',{staticClass:\"v-cell\"},[_c('div',{staticClass:\"v-checkbox\"},[_c('van-checkbox',{attrs:{\"checked-color\":\"#CB9D58\",\"shape\":\"round\"},on:{\"change\":function($event){return _vm.simpleSelect(item)}},model:{value:(item.isChecked),callback:function ($$v) {_vm.$set(item, \"isChecked\", $$v)},expression:\"item.isChecked\"}})],1),_c('div',{staticClass:\"pro-img\"},[_c('img',{staticClass:\"img-auto\",attrs:{\"src\":item.small_img}})]),_c('div',{staticClass:\"pro-info\"},[_c('div',{staticClass:\"pro-name\"},[_vm._v(_vm._s(item.name)),_c('span',[_vm._v(_vm._s(item.enname))])]),_c('div',{staticClass:\"rule\"},[_vm._v(_vm._s(item.rule))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],staticClass:\"clearfix ch-count\"},[_c('span',{staticClass:\"fl\"},[_vm._v(\"￥\"+_vm._s(item.price))]),_c('span',{staticClass:\"fr\"},[_c('van-stepper',{on:{\"change\":function($event){return _vm.changeCount(item)}},model:{value:(item.count),callback:function ($$v) {_vm.$set(item, \"count\", $$v)},expression:\"item.count\"}})],1)])])])])],1)}),1)],1),_c('van-submit-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit && _vm.shopcartData.length > 0),expression:\"!isEdit && shopcartData.length > 0\"}],attrs:{\"price\":_vm.total,\"button-text\":\"结 算\",\"button-type\":\"info\",\"safe-area-inset-bottom\":true},on:{\"submit\":_vm.commit}},[_c('van-checkbox',{attrs:{\"checked-color\":\"#CB9D58\"},on:{\"click\":_vm.allSelect},model:{value:(_vm.isAllChecked),callback:function ($$v) {_vm.isAllChecked=$$v},expression:\"isAllChecked\"}},[_vm._v(\"全选\")])],1),_c('van-submit-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit && _vm.shopcartData.length > 0),expression:\"isEdit && shopcartData.length > 0\"}],staticClass:\"v-submit\",attrs:{\"button-text\":\"删 除\",\"button-type\":\"info\",\"safe-area-inset-bottom\":true},on:{\"submit\":function($event){return _vm.removeShopcart('all')}}},[_c('van-checkbox',{attrs:{\"checked-color\":\"#CB9D58\"},on:{\"click\":_vm.allSelect},model:{value:(_vm.isAllChecked),callback:function ($$v) {_vm.isAllChecked=$$v},expression:\"isAllChecked\"}},[_vm._v(\"全选\")])],1)]:[_c('div',{staticClass:\"not-shopcart-box\"},[_c('div',{staticClass:\"not-shopcart\"},[_c('div',{staticClass:\"not-shopcart-icon\"},[_c('van-icon',{attrs:{\"name\":\"shopping-cart\"}})],1),_c('div',[_vm._v(_vm._s(_vm.isLogin ? '购物车竟然空空如也' : '登录后才能查看购物车'))]),_c('div',{staticClass:\"last-item\"},[_vm._v(\"再忙也要买一杯咖啡犒劳自己\")])]),(_vm.isLogin)?_c('div',[_c('div',[_c('van-divider',{style:({ color: '#E5C474', borderColor: '#E5C474', padding: '0 16px' })},[_c('van-icon',{attrs:{\"name\":\"like\"}}),_c('div',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"为您推荐\")])],1)],1),_c('div',{staticClass:\"like-box clearfix\"},_vm._l((_vm.recommendData),function(item,index){return _c('div',{key:index,class:[index % 2 == 0 ? 'a' : 'b'],on:{\"click\":function($event){return _vm.goPage(item.pid)}}},[_c('div',[_c('img',{staticClass:\"img-auto\",attrs:{\"src\":item.smallImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.name)+\" \"),_c('span',{staticClass:\"fr delete\"},[_vm._v(\"￥\"+_vm._s(item.price))])])])}),0)]):_vm._e()])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"shopcart\">\r\n\t\t<template v-if=\"allShopcartData.length > 0\">\r\n\t\t\t<van-nav-bar :fixed=\"true\" :right-text=\"isEdit ? '完成' : '管理'\" @click-right=\"manage\" />\r\n\t\t\t<!--购物车列表-->\r\n\t\t\t<div class=\"list\">\r\n\t\t\t\t<van-list finished-text=\"没有更多了\" :immediate-check=\"false\" :finished=\"isFinished\" v-model=\"isLoading\" @load=\"loadData\">\r\n\t\t\t\t\t<van-swipe-cell :disabled=\"!isEdit\" v-for=\"(item, index) in shopcartData\" :key=\"index\">\r\n\t\t\t\t\t\t<van-cell>\r\n\t\t\t\t\t\t\t<div class=\"v-cell\">\r\n\t\t\t\t\t\t\t\t<div class=\"v-checkbox\">\r\n\t\t\t\t\t\t\t\t\t<van-checkbox v-model=\"item.isChecked\" @change=\"simpleSelect(item)\" checked-color=\"#CB9D58\" shape=\"round\"></van-checkbox>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"pro-img\">\r\n\t\t\t\t\t\t\t\t\t<img class=\"img-auto\" :src=\"item.small_img\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"pro-info\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"pro-name\">{{item.name}}<span>{{item.enname}}</span></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"rule\">{{item.rule}}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"clearfix ch-count\" v-show=\"!isEdit\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"fl\">￥{{item.price}}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"fr\"><van-stepper v-model=\"item.count\" @change=\"changeCount(item)\" /></span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t\t<template #right>\r\n\t\t\t\t\t\t\t<van-button @click=\"removeShopcart('one', item)\" class=\"v-button\" square color=\"linear-gradient(to right, #CBA25F, #D39027)\" text=\"删除\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</van-swipe-cell>\r\n\t\t\t\t</van-list>\r\n\t\t\t</div>\r\n\r\n\t\t\t<van-submit-bar v-show=\"!isEdit && shopcartData.length > 0\" @submit=\"commit\" :price=\"total\" button-text=\"结 算\" button-type=\"info\" :safe-area-inset-bottom=\"true\">\r\n\t\t\t\t<van-checkbox v-model=\"isAllChecked\" checked-color=\"#CB9D58\" @click=\"allSelect\">全选</van-checkbox>\r\n\t\t\t</van-submit-bar>\r\n\r\n\t\t\t<!-- 删除 -->\r\n\t\t\t<van-submit-bar v-show=\"isEdit && shopcartData.length > 0\" class=\"v-submit\" button-text=\"删 除\" button-type=\"info\" :safe-area-inset-bottom=\"true\" @submit=\"removeShopcart('all')\">\r\n\t\t\t\t<van-checkbox v-model=\"isAllChecked\" checked-color=\"#CB9D58\" @click=\"allSelect\">全选</van-checkbox>\r\n\t\t\t</van-submit-bar>\r\n\t\t</template>\r\n\r\n\t\t<template v-else>\r\n\t\t\t<div class=\"not-shopcart-box\">\r\n\t\t\t\t<div class=\"not-shopcart\">\r\n\t\t\t\t\t<div class=\"not-shopcart-icon\">\r\n\t\t\t\t\t\t<van-icon name=\"shopping-cart\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{{isLogin ? '购物车竟然空空如也' : '登录后才能查看购物车'}}</div>\r\n\t\t\t\t\t<div class=\"last-item\">再忙也要买一杯咖啡犒劳自己</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"isLogin\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<van-divider :style=\"{ color: '#E5C474', borderColor: '#E5C474', padding: '0 16px' }\">\r\n\t\t\t\t\t\t\t<van-icon name=\"like\" />\r\n\t\t\t\t\t\t\t<div style=\"margin-left: 5px;\">为您推荐</div>\r\n\t\t\t\t\t\t</van-divider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"like-box clearfix\">\r\n\t\t\t\t\t\t<div :class=\"[index % 2 == 0 ? 'a' : 'b']\" v-for=\"(item, index) in recommendData\" :key=\"index\" @click=\"goPage(item.pid)\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img class=\"img-auto\" :src=\"item.smallImg\" alt=\"\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"title\">{{item.name}}\r\n\t\t\t\t\t\t\t\t<span class=\"fr delete\">￥{{item.price}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</template>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\t//mapState辅助函数\r\n\timport { mapState, mapMutations } from 'vuex'\r\n\r\n\timport { utils } from '../../utils/utils.js'\r\n\r\n\texport default {\r\n\r\n\t\tname: 'Shopcart',\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisAllChecked: false,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tisLogin: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\r\n\t\t\tlet islogin = utils.isLogin('登录后才查看购物车，是否登录？', this)\r\n\r\n\t\t\tif(!islogin) {\r\n\t\t\t\tthis.isLogin = false\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.$store.commit('shopcartModule/emptyData');\r\n\r\n\t\t\tlet tokenString = utils.getToken(this);\r\n\r\n\t\t\tthis.axios({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: '/findAllShopcart',\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\ttokenString\r\n\t\t\t\t}\r\n\t\t\t}).then(result => {\r\n\t\t\t\tif(result.data.code == '5000') {\r\n\t\t\t\t\tlet data = result.data.result;\r\n\t\t\t\t\tdata.forEach(v => {\r\n\t\t\t\t\t\tv.isChecked = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$store.commit('shopcartModule/changeData', {\r\n\t\t\t\t\t\tkey: 'allShopcartData',\r\n\t\t\t\t\t\tvalue: data\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(this.allShopcartData.length >= 6) {\r\n\t\t\t\t\t\tdata = data.slice(0, 6);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$store.commit('shopcartModule/changeData', {\r\n\t\t\t\t\t\tkey: 'shopcartData',\r\n\t\t\t\t\t\tvalue: data\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.getRecommendData()\r\n\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\t...mapState('shopcartModule', ['isEdit', 'shopcartData', 'isFinished', 'allShopcartData', 'recommendData']),\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tloadData() {\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\r\n\t\t\t\t\tthis.isLoading = false;\r\n\r\n\t\t\t\t\tif(this.shopcartData.length >= this.allShopcartData.length) {\r\n\t\t\t\t\t\t//没有数据可加载\r\n\t\t\t\t\t\tthis.$store.commit('shopcartModule/changeData', {\r\n\t\t\t\t\t\t\tkey: 'isFinished',\r\n\t\t\t\t\t\t\tvalue: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.$store.commit('shopcartModule/loadShopcartData', 6);\r\n\r\n\t\t\t\t}, 1000)\r\n\r\n\t\t\t},\r\n\r\n\t\t\tallSelect() {\r\n\t\t\t\tthis.sum();\r\n\t\t\t\tthis.$store.commit('shopcartModule/allSelect', this.isAllChecked);\r\n\t\t\t},\r\n\r\n\t\t\tsimpleSelect(item) {\r\n\t\t\t\tthis.sum();\r\n\t\t\t\tfor(let i = 0; i < this.shopcartData.length; i++) {\r\n\t\t\t\t\tif(!this.shopcartData[i].isChecked) {\r\n\t\t\t\t\t\tthis.isAllChecked = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.isAllChecked = true;\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//计算订单总价\r\n\t\t\tsum() {\r\n\t\t\t\tthis.total = 0;\r\n\t\t\t\tthis.shopcartData.forEach(v => {\r\n\t\t\t\t\tif(v.isChecked) {\r\n\t\t\t\t\t\tthis.total += v.price * v.count * 100;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//改变数量\r\n\t\t\tchangeCount(item) {\r\n\t\t\t\tlet tokenString = utils.getToken(this);\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\turl: '/modifyShopcartCount',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\t\ttokenString,\r\n\t\t\t\t\t\tsid: item.sid,\r\n\t\t\t\t\t\tcount: item.count\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttransformRequest: utils.transformRequest\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tthis.sum()\r\n\t\t\t\t}).catch(err => {\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//管理商品\r\n\t\t\tmanage() {\r\n\t\t\t\tthis.$store.commit('shopcartModule/manage')\r\n\t\t\t},\r\n\r\n\t\t\t//删除商品\r\n\t\t\tremoveShopcart(isAll, item) {\r\n\r\n\t\t\t\t//加载提示\r\n\t\t\t\tthis.$toast.loading({\r\n\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t\tduration: 0,\r\n\t\t\t\t\tmessage: '处理中...'\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet sidArr = []\r\n\t\t\t\tif(isAll == 'all') {\r\n\t\t\t\t\tthis.shopcartData.forEach(v => {\r\n\t\t\t\t\t\tif(v.isChecked) {\r\n\t\t\t\t\t\t\tsidArr.push(v.sid)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if(isAll = 'one') {\r\n\t\t\t\t\tsidArr.push(item.sid)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(sidArr.length == 0) {\r\n\t\t\t\t\tthis.$toast({\r\n\t\t\t\t\t\tmessage: '没有选择商品'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet sids = JSON.stringify(sidArr);\r\n\r\n\t\t\t\t//获取token字符串\r\n\t\t\t\tlet tokenString = utils.getToken(this);\r\n\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\turl: '/deleteShopcart',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\t\ttokenString,\r\n\t\t\t\t\t\tsids\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttransformRequest: utils.transformRequest\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tthis.$toast.clear();\r\n\t\t\t\t\t//加载提示\r\n\t\t\t\t\tthis.$toast.success({\r\n\t\t\t\t\t\tmessage: '成功删除商品'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$store.commit('shopcartModule/removeShopcartData', sidArr);\r\n\t\t\t\t\tthis.sum();\r\n\t\t\t\t\tif(this.shopcartData.length == 0) {\r\n\t\t\t\t\t\tthis.isAllChecked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$toast.clear();\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//提交订单 \r\n\t\t\tcommit() {\r\n\r\n\t\t\t\t// 获取勾选商品的购物车的sid\r\n\t\t\t\tlet sids = []\r\n\t\t\t\tthis.shopcartData.forEach(v => {\r\n\t\t\t\t\tif(v.isChecked) {\r\n\t\t\t\t\t\tsids.push(v.sid);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif(sids.length == 0) {\r\n\t\t\t\t\t//加载提示\r\n\t\t\t\t\tthis.$toast.fail({\r\n\t\t\t\t\t\tmessage: '请选择商品'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'Pay',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tsids: sids.join('-')\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tgetRecommendData() {\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\turl: '/typeProducts',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\t\tkey: 'isHot',\r\n\t\t\t\t\t\tvalue: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tlet datas = result.data.result.splice(0, 4)\r\n\t\t\t\t\tif(result.data.code == 500) {\r\n\t\t\t\t\t\tthis.$store.commit('shopcartModule/changeData', {\r\n\t\t\t\t\t\t\tkey: 'recommendData',\r\n\t\t\t\t\t\t\tvalue: datas\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//查看商品详情\r\n\t\t\tgoPage(pid) {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'Detail',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tpid\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped=\"scoped\">\r\n\t.shopcart {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: white;\r\n\t\tposition: relative;\r\n\t\t.no-data {\r\n\t\t\tmargin-top: 50px;\r\n\t\t}\r\n\t\t.v-submit {\r\n\t\t\t.van-checkbox {\r\n\t\t\t\tmargin-right: auto;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.list {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0px;\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding-bottom: 100px;\r\n\t\t\tpadding-top: 44px;\r\n\t\t\theight: 523px;\r\n\t\t\toverflow-y: auto;\r\n\t\t\t.v-cell {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\t\t\t.v-checkbox {\r\n\t\t\t\tmargin-top: 40px;\r\n\t\t\t\tmargin-right: 16px;\r\n\t\t\t}\r\n\t\t\t.pro-info {\r\n\t\t\t\twidth: calc(100% - 152px);\r\n\t\t\t\tmargin-left: 16px;\r\n\t\t\t}\r\n\t\t\t.pro-img {\r\n\t\t\t\twidth: 100px;\r\n\t\t\t}\r\n\t\t\t.pro-name {\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tspan {\r\n\t\t\t\t\tmargin-left: 10px;\r\n\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/deep/.van-button {\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t\t.rule {\r\n\t\t\t\tfont-size: 13px;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tline-height: 25px;\r\n\t\t\t}\r\n\t\t\t.v-submit-bar {\r\n\t\t\t\tbottom: 51px;\r\n\t\t\t}\r\n\t\t\t.v-check-box {\r\n\t\t\t\tmargin-right: auto;\r\n\t\t\t}\r\n\t\t\t.ch-count {\r\n\t\t\t\tmargin-top: 22px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.van-submit-bar {\r\n\t\t\tbottom: 49.98px;\r\n\t\t\tborder-top: 1px solid #ededed;\r\n\t\t}\r\n\t\t.van-button--info {\r\n\t\t\tbackground-color: #CB9D58;\r\n\t\t}\r\n\t\t/deep/.van-nav-bar__text,\r\n\t\t.van-submit-bar__price {\r\n\t\t\tcolor: #CB9D58;\r\n\t\t}\r\n\t\t.not-shopcart {\r\n\t\t\tfont-size: 18px;\r\n\t\t\tcolor: #A8A8A8;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin-bottom:25px;\r\n\t\t\t.last-item{\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tmargin-top: 10px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.not-shopcart-box {\r\n\t\t\tpadding-top: 50px;\r\n\t\t}\r\n\t\t.not-shopcart-icon {\r\n\t\t\tfont-size: 64px;\r\n\t\t}\r\n\t\t.login-text {\r\n\t\t\tcolor: #444;\r\n\t\t}\r\n\t\t.like-box {\r\n\t\t\tmargin-top: 10px;\r\n\t\t\t>div {\r\n\t\t\t\tfloat: left;\r\n\t\t\t\twidth: calc(~\"50% - 15px - 20px\");\r\n\t\t\t\tbackground-color: #F0F0F0;\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\t&.a {\r\n\t\t\t\t\tmargin-right: 5px;\r\n\t\t\t\t\tmargin-left: 10px;\r\n\t\t\t\t}\r\n\t\t\t\t&.b {\r\n\t\t\t\t\tmargin-left: 5px;\r\n\t\t\t\t\tmargin-right: 10px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.title {\r\n\t\t\t\tpadding: 5px 5px;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 10px;\r\n\t\t\t\tleft: 10px;\r\n\t\t\t\twidth: calc(~\"100% - 30px\");\r\n\t\t\t\tbackground-color: rgba(22, 22, 22, .6);\r\n\t\t\t}\r\n\t\t\t.delete {\r\n\t\t\t\theight: 20px;\r\n\t\t\t\t.v-icon {\r\n\t\t\t\t\tfont-size: 20px;\r\n\t\t\t\t\tcolor: red;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopcart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopcart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shopcart.vue?vue&type=template&id=54b9ccef&scoped=true&\"\nimport script from \"./Shopcart.vue?vue&type=script&lang=js&\"\nexport * from \"./Shopcart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Shopcart.vue?vue&type=style&index=0&id=54b9ccef&lang=less&scoped=scoped&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54b9ccef\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a16ea452"],{"25f0":function(e,t,a){"use strict";var n=a("6eeb"),r=a("825a"),i=a("d039"),o=a("ad6d"),s="toString",c=RegExp.prototype,u=c[s],l=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=s;(l||d)&&n(RegExp.prototype,s,(function(){var e=r(this),t=String(e.source),a=e.flags,n=String(void 0===a&&e instanceof RegExp&&!("flags"in c)?o.call(e):a);return"/"+t+"/"+n}),{unsafe:!0})},"4d63":function(e,t,a){var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("7156"),s=a("9bf2").f,c=a("241c").f,u=a("44e7"),l=a("ad6d"),d=a("9f7f"),f=a("6eeb"),p=a("d039"),g=a("69f3").set,h=a("2626"),v=a("b622"),w=v("match"),b=r.RegExp,m=b.prototype,y=/a/g,k=/a/g,x=new b(y)!==y,$=d.UNSUPPORTED_Y,E=n&&i("RegExp",!x||$||p((function(){return k[w]=!1,b(y)!=y||b(k)==k||"/a/i"!=b(y,"i")})));if(E){var S=function(e,t){var a,n=this instanceof S,r=u(e),i=void 0===t;if(!n&&r&&e.constructor===S&&i)return e;x?r&&!i&&(e=e.source):e instanceof S&&(i&&(t=l.call(e)),e=e.source),$&&(a=!!t&&t.indexOf("y")>-1,a&&(t=t.replace(/y/g,"")));var s=o(x?new b(e,t):b(e,t),n?this:m,S);return $&&a&&g(s,{sticky:a}),s},R=function(e){e in S||s(S,e,{configurable:!0,get:function(){return b[e]},set:function(t){b[e]=t}})},C=c(b),T=0;while(C.length>T)R(C[T++]);m.constructor=S,S.prototype=m,f(r,"RegExp",S)}h("RegExp")},5319:function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),i=a("7b0b"),o=a("50c4"),s=a("a691"),c=a("1d80"),u=a("8aa5"),l=a("14c3"),d=Math.max,f=Math.min,p=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,a,n){var w=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,m=w?"$":"$0";return[function(a,n){var r=c(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,r,n):t.call(String(r),a,n)},function(e,n){if(!w&&b||"string"===typeof n&&-1===n.indexOf(m)){var i=a(t,e,this,n);if(i.done)return i.value}var c=r(e),p=String(this),g="function"===typeof n;g||(n=String(n));var h=c.global;if(h){var k=c.unicode;c.lastIndex=0}var x=[];while(1){var $=l(c,p);if(null===$)break;if(x.push($),!h)break;var E=String($[0]);""===E&&(c.lastIndex=u(p,o(c.lastIndex),k))}for(var S="",R=0,C=0;C<x.length;C++){$=x[C];for(var T=String($[0]),_=d(f(s($.index),p.length),0),P=[],A=1;A<$.length;A++)P.push(v($[A]));var O=$.groups;if(g){var I=[T].concat(P,_,p);void 0!==O&&I.push(O);var j=String(n.apply(void 0,I))}else j=y(T,p,_,P,O,n);_>=R&&(S+=p.slice(R,_)+j,R=_+T.length)}return S+p.slice(R)}];function y(e,a,n,r,o,s){var c=n+e.length,u=r.length,l=h;return void 0!==o&&(o=i(o),l=g),t.call(s,l,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,n);case"'":return a.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>u){var d=p(l/10);return 0===d?t:d<=u?void 0===r[d-1]?i.charAt(1):r[d-1]+i.charAt(1):t}s=r[l-1]}return void 0===s?"":s}))}}))},7156:function(e,t,a){var n=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var i,o;return r&&"function"==typeof(i=t.constructor)&&i!==a&&n(o=i.prototype)&&o!==a.prototype&&r(e,o),e}},"9dce":function(e,t,a){},aafc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account"},[a("van-nav-bar",{attrs:{title:e.setType[e.index].title,border:!1,"left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":e.returnBack},scopedSlots:e._u([{key:"right",fn:function(){return["password"!=e.data.key?a("van-button",{attrs:{disabled:!e.isChange,type:"primary",color:"#E5C474",size:"small"},on:{click:e.changeUserInfo}},[e._v("保存")]):a("van-button",{attrs:{disabled:!e.isChange,type:"primary",color:"#E5C474",size:"small"},on:{click:e.updatePassword}},[e._v("完成")])]},proxy:!0}])}),a("div",{staticClass:"list"},["password"==e.data.key?[a("van-cell-group",[a("van-field",{attrs:{type:"password",name:"旧密码",label:"旧密码",placeholder:"旧密码",rules:[{required:!0,message:"请填写旧密码"}]},model:{value:e.password.old,callback:function(t){e.$set(e.password,"old",t)},expression:"password.old"}}),a("van-field",{attrs:{type:"password",name:"新密码",label:"新密码",placeholder:"新密码",rules:[{required:!0,message:"请填写新密码"}]},on:{input:e.change},model:{value:e.password.new,callback:function(t){e.$set(e.password,"new",t)},expression:"password.new"}})],1),a("div",{staticClass:"title"},[e._v(e._s(e.setType[e.index].placeholder))]),a("div",{staticClass:"forget",on:{click:e.goPage}},[e._v("忘记旧密码？")])]:[a("van-cell-group",[a("van-field",{attrs:{rows:"1",autosize:"",autofocus:!0,type:"textarea"},on:{input:e.change},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1),a("div",{staticClass:"title"},[e._v(e._s(e.setType[e.index].placeholder))])]],2)],1)},r=[],i=(a("4160"),a("159b"),a("ade3")),o=a("fa7d"),s=a("cc73"),c={name:"Account",created:function(){var e=this,t=this.$route.query;this.data=t,this.setType.forEach((function(a,n){a.key==t.key&&(e.index=n)}))},data:function(){return{setType:[{key:"nickName",title:"修改昵称",placeholder:"好听的名字可以让人更容易记住你。"},{key:"desc",title:"个性签名",placeholder:"编辑个签，展示我的独特态度。"},{key:"password",title:"修改密码",placeholder:"密码必须首个字符是字母且不能含有汉字(6~16位)"}],index:0,data:{},isChange:!1,password:{old:"",new:""}}},methods:{returnBack:function(){this.$router.go(-1)},changeUserInfo:function(){var e=this,t=o["a"].getToken(this);this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({method:"POST",url:this.data.url,data:Object(i["a"])({appkey:this.appkey,tokenString:t},this.data.key,this.data.value),transformRequest:o["a"].transformRequest}).then((function(t){e.$toast.clear(),e.returnBack()})).catch((function(t){e.$toast.clear()}))},change:function(){this.isChange=!0},updatePassword:function(){var e=this;if(this.password.old!=this.password.new){if(s["a"].validForm({password:this.password.new},this)){var t=o["a"].getToken(this);this.axios({method:"POST",url:"/updatePassword",data:{appkey:this.appkey,tokenString:t,password:this.password.new,oldPassword:this.password.old},transformRequest:o["a"].transformRequest}).then((function(t){"E001"==t.data.code?(e.$toast.success({message:t.data.msg+"需要重新登录"}),e.$router.push({name:"Login"})):e.$toast.fail({message:t.data.msg})}))}}else this.$toast({message:"新旧密码不能相同"})},goPage:function(){this.$router.push({name:"Email"})}}},u=c,l=(a("d2eb"),a("2877")),d=Object(l["a"])(u,n,r,!1,null,"6158c4ee",null);t["default"]=d.exports},ade3:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},bee2:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,"a",(function(){return r}))},cc73:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("d4ec"),r=a("bee2"),i=function(){function e(){Object(n["a"])(this,e),this.phone={reg:/^1[3456789]\d{9}$/,msg:"请填写正确手机号"},this.nickName={reg:/^(?=.*[a-zA-Z])[0-9a-zA-Z\u4e00-\u9fa5]{1,8}$/,msg:"昵称必须含有字母,数字字母汉字组合"},this.password={reg:/^[a-zA-Z][^\u4e00-\u9fa5]{5,15}$/,msg:"密码首个字符是字母且不能含有汉字(6~16位)"},this.email={reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,msg:"邮箱格式不正确"}}return Object(r["a"])(e,[{key:"validForm",value:function(e,t){for(var a in e)if(!this[a].reg.test(e[a]))return t.$toast(this[a].msg),!1;return!0}}]),e}(),o=new i},d2eb:function(e,t,a){"use strict";var n=a("9dce"),r=a.n(n);r.a},d4ec:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return n}))},fa7d:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("fb6a"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319");var n=a("d4ec"),r=a("bee2"),i=function(){function e(){Object(n["a"])(this,e)}return Object(r["a"])(e,[{key:"transformRequest",value:function(e){var t="";for(var a in e)t+=a+"="+e[a]+"&";return t}},{key:"getToken",value:function(e){var t=localStorage.getItem("w_token");return t}},{key:"isLogin",value:function(e,t){return"false"!=localStorage.getItem("isLogin")&&null!=localStorage.getItem("isLogin")||(t.$dialog.confirm({message:e,confirmButtonText:"是",cancelButtonText:"否"}).then((function(){t.$router.push({name:"Login"})})).catch((function(){})),!1)}},{key:"formatDate",value:function(e,t){var a=e.getFullYear().toString();if(/(y+)/.test(t)){var n=RegExp.$1;t=t.replace(n,a.slice(a.length-n.length))}var r={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()};for(var i in r){var o=new RegExp("(".concat(i,"{1,2})"));if(o.test(t)){var s=RegExp.$1,c=r[i]>=10||1==s.length?r[i]:"0"+r[i];t=t.replace(s,c)}}return t}}]),e}(),o=new i},fb6a:function(e,t,a){"use strict";var n=a("23e7"),r=a("861d"),i=a("e8b5"),o=a("23cb"),s=a("50c4"),c=a("fc6a"),u=a("8418"),l=a("b622"),d=a("1dde"),f=a("ae40"),p=d("slice"),g=f("slice",{ACCESSORS:!0,0:0,1:2}),h=l("species"),v=[].slice,w=Math.max;n({target:"Array",proto:!0,forced:!p||!g},{slice:function(e,t){var a,n,l,d=c(this),f=s(d.length),p=o(e,f),g=o(void 0===t?f:t,f);if(i(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?r(a)&&(a=a[h],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(d,p,g);for(n=new(void 0===a?Array:a)(w(g-p,0)),l=0;p<g;p++,l++)p in d&&u(n,l,d[p]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-a16ea452.1d91cd52.js.map
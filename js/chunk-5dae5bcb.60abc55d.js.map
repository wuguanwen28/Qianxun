{"version":3,"sources":["webpack:///./src/views/Detail.vue?98fa","webpack:///./src/views/Detail.vue?8622","webpack:///src/views/Detail.vue","webpack:///./src/views/Detail.vue?e029","webpack:///./src/views/Detail.vue?0992"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","returnBack","productDetailData","large_img","_v","_s","name","enname","like","isLike","_l","item","index","key","title","value","i","class","active","isActive","$event","toggleRule","text","price","model","callback","$$v","count","expression","goPage","shopcartTotal","addShopcart","commit","staticRenderFns","component"],"mappings":"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","file":"js/chunk-5dae5bcb.60abc55d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=3573084a&lang=less&scoped=scoped&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=3573084a&lang=less&scoped=scoped&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('van-nav-bar',{attrs:{\"title\":\"商品详情\",\"left-text\":\"返回\",\"border\":false,\"left-arrow\":\"\",\"fixed\":true},on:{\"click-left\":_vm.returnBack}}),_c('div',{staticClass:\"detail-box\"},[_c('div',{staticClass:\"image\"},[_c('img',{staticClass:\"img-auto\",attrs:{\"src\":_vm.productDetailData.large_img}}),_c('ul',{staticClass:\"pro-box\"},[_c('li',{staticClass:\"pro-name\"},[_vm._v(_vm._s(_vm.productDetailData.name))]),_c('li',{staticClass:\"pro-name small\"},[_vm._v(_vm._s(_vm.productDetailData.enname))]),_c('li',{staticClass:\"pro-like\",on:{\"click\":_vm.like}},[_c('van-icon',{attrs:{\"name\":\"star\",\"size\":\"24px\",\"color\":_vm.isLike ? '#ff0000' : '#ffffff'}})],1)])]),_c('div',{staticClass:\"rule-box\"},[_c('div',{staticClass:\"pro-rule\"},_vm._l((_vm.rules),function(item,index){return _c('div',{key:index,staticClass:\"rule-item\"},[_c('span',{staticClass:\"fl rule-title\"},[_vm._v(_vm._s(item.title))]),_c('ul',{staticClass:\"fl rule-list\"},_vm._l((item.rule),function(value,i){return _c('li',{key:i,class:{active: value.isActive},on:{\"click\":function($event){return _vm.toggleRule(value, index)}}},[_vm._v(_vm._s(value.text))])}),0)])}),0),_c('div',{staticClass:\"pro-desc\"},[_c('div',{staticClass:\"desc-title\"},[_vm._v(\"商品描述:\")]),_c('div',{staticClass:\"desc-info\"},_vm._l((_vm.desc),function(item,index){return _c('p',{key:index},[_vm._v(_vm._s(item))])}),0)]),_c('div',{staticClass:\"pro-price-count\"},[_c('div',{staticClass:\"price fl\"},[_vm._v(\"￥\"+_vm._s(_vm.productDetailData.price))]),_c('div',{staticClass:\"count fr\"},[_c('van-stepper',{attrs:{\"disable-input\":\"\"},model:{value:(_vm.count),callback:function ($$v) {_vm.count=$$v},expression:\"count\"}})],1)])])]),_c('div',{staticClass:\"action\"},[_c('div',{staticClass:\"fl cart\"},[_c('van-goods-action-icon',{attrs:{\"icon\":\"chat-o\",\"color\":\"#fff\",\"text\":\"客服\"},on:{\"click\":function($event){return _vm.goPage('Service')}}}),_c('van-goods-action-icon',{attrs:{\"icon\":\"cart-o\",\"color\":\"#fff\",\"badge\":_vm.shopcartTotal == 0 ? '' : _vm.shopcartTotal >= 100 ? '99+' : _vm.shopcartTotal,\"text\":\"购物车\"},on:{\"click\":function($event){return _vm.goPage('Shopcart')}}})],1),_c('div',{staticClass:\"fr\"},[_c('button',{staticClass:\"fl\",on:{\"click\":_vm.addShopcart}},[_vm._v(\"加入购物车\")]),_c('button',{staticClass:\"fl\",on:{\"click\":_vm.commit}},[_vm._v(\"立即购买\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"detail\">\r\n\t\t<van-nav-bar title=\"商品详情\" @click-left=\"returnBack\" left-text=\"返回\" :border=\"false\" left-arrow :fixed=\"true\" />\r\n\r\n\t\t<div class=\"detail-box\">\r\n\t\t\t<div class=\"image\">\r\n\t\t\t\t<img class=\"img-auto\" :src=\"productDetailData.large_img\" />\r\n\t\t\t\t<ul class=\"pro-box\">\r\n\t\t\t\t\t<li class=\"pro-name\">{{productDetailData.name}}</li>\r\n\t\t\t\t\t<li class=\"pro-name small\">{{productDetailData.enname}}</li>\r\n\t\t\t\t\t<li class=\"pro-like\" @click=\"like\">\r\n\t\t\t\t\t\t<van-icon name=\"star\" size=\"24px\" :color=\" isLike ? '#ff0000' : '#ffffff' \" />\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"rule-box\">\r\n\t\t\t\t<!-- 商品规格 -->\r\n\t\t\t\t<div class=\"pro-rule\">\r\n\t\t\t\t\t<div class=\"rule-item\" v-for=\"(item, index) in rules\" :key=\"index\">\r\n\t\t\t\t\t\t<span class=\"fl rule-title\">{{item.title}}</span>\r\n\t\t\t\t\t\t<ul class=\"fl rule-list\">\r\n\t\t\t\t\t\t\t<li v-for=\"(value, i) in item.rule\" :key=\"i\" :class=\"{active: value.isActive}\" @click=\"toggleRule(value, index)\">{{value.text}}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- 商品描述 -->\r\n\t\t\t\t<div class=\"pro-desc\">\r\n\t\t\t\t\t<div class=\"desc-title\">商品描述:</div>\r\n\t\t\t\t\t<div class=\"desc-info\">\r\n\t\t\t\t\t\t<p v-for=\"(item, index) in desc\" :key=\"index\">{{item}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- 价格数量 -->\r\n\t\t\t\t<div class=\"pro-price-count\">\r\n\t\t\t\t\t<div class=\"price fl\">￥{{productDetailData.price}}</div>\r\n\t\t\t\t\t<div class=\"count fr\">\r\n\t\t\t\t\t\t<van-stepper v-model=\"count\" disable-input />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"action\">\r\n\t\t\t<div class=\"fl cart\">\r\n\t\t\t\t<van-goods-action-icon @click=\"goPage('Service')\" icon=\"chat-o\" color=\"#fff\" text=\"客服\" />\r\n\t\t\t\t<van-goods-action-icon @click=\"goPage('Shopcart')\" icon=\"cart-o\" color=\"#fff\" :badge=\"shopcartTotal == 0 ? '' : shopcartTotal >= 100 ? '99+' : shopcartTotal\" text=\"购物车\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"fr\">\r\n\t\t\t\t<button class=\"fl\" @click=\"addShopcart\">加入购物车</button>\r\n\t\t\t\t<button class=\"fl\" @click=\"commit\">立即购买</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { mapState } from 'vuex'\r\n\r\n\timport { utils } from '../utils/utils.js'\r\n\r\n\texport default {\r\n\r\n\t\tname: 'Detail',\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//商品数量\r\n\t\t\t\tcount: 1\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\r\n\t\t\t//加载提示\r\n\t\t\tthis.$toast.loading({\r\n\t\t\t\tforbidClick: true,\r\n\t\t\t\tduration: 0,\r\n\t\t\t\tmessage: \"加载中...\"\r\n\t\t\t});\r\n\r\n\t\t\tthis.$store.commit('detailModule/emptyData');\r\n\r\n\t\t\t//截取路由参数\r\n\t\t\tlet pid = this.$route.params.pid;\r\n\r\n\t\t\tpid = pid == undefined ? 'rena_ice002' : pid\r\n\r\n\t\t\t//获取商品详情信息\r\n\t\t\tthis.axios({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: '/productDetail',\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\tpid\r\n\t\t\t\t}\r\n\t\t\t}).then(result => {\r\n\t\t\t\tif(result.data.code == 600) {\r\n\t\t\t\t\tthis.$store.commit('detailModule/changeProductDetailData', result.data.result[0]);\r\n\t\t\t\t\t//关闭加载提示\r\n\t\t\t\t\tthis.$toast.clear();\r\n\r\n\t\t\t\t\t//查看商品收藏\r\n\t\t\t\t\tthis.findlike();\r\n\t\t\t\t}\r\n\t\t\t}).catch(err => {\r\n\t\t\t\t//关闭加载提示\r\n\t\t\t\tthis.$toast.clear();\r\n\t\t\t})\r\n\r\n\t\t\tthis.shopcartRows();\r\n\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState('detailModule', ['productDetailData', 'rules', 'desc', 'isLike', 'shopcartTotal'])\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\t//切换商品规格\r\n\t\t\ttoggleRule(item, index) {\r\n\r\n\t\t\t\tthis.$store.commit('detailModule/toggleRule', {\r\n\t\t\t\t\titem: item,\r\n\t\t\t\t\tindex: index\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//返回上一级\r\n\t\t\treturnBack() {\r\n\t\t\t\tthis.$router.go(-1);\r\n\t\t\t},\r\n\r\n\t\t\t//查看当前商品是否被收藏\r\n\t\t\tfindlike() {\r\n\t\t\t\tlet tokenString = utils.getToken(this);\r\n\r\n\t\t\t\tif(this.$cookies.get('isLogin') == 'false') {\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\turl: \"/findlike\",\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\t\tpid: this.productDetailData.pid,\r\n\t\t\t\t\t\ttokenString\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tif(result.data.code == 1000) {\r\n\t\t\t\t\t\t//修改isLike\r\n\t\t\t\t\t\tthis.$store.commit(\"detailModule/changeData\", {\r\n\t\t\t\t\t\t\tkey: \"isLike\",\r\n\t\t\t\t\t\t\tvalue: result.data.result.length > 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//收藏商品\r\n\t\t\tlike() {\r\n\r\n\t\t\t\tlet islogin = utils.isLogin('登录后才能收藏商品，是否登录？', this)\r\n\t\t\t\tif(!islogin) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet tokenString = utils.getToken(this);\r\n\r\n\t\t\t\tlet url = this.isLike ? \"/notlike\" : \"/like\";\r\n\r\n\t\t\t\tlet icon = this.isLike ? 'star-o' : 'star';\r\n\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\turl,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\t\t\tpid: this.productDetailData.pid,\r\n\t\t\t\t\t\t\ttokenString\r\n\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\ttransformRequest: utils.transformRequest\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\t//关闭加载提示\r\n\t\t\t\t\t\tthis.$toast.clear();\r\n\r\n\t\t\t\t\t\t//加载提示\r\n\t\t\t\t\t\tthis.$toast({\r\n\t\t\t\t\t\t\tmessage: result.data.msg,\r\n\t\t\t\t\t\t\ticon\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//修改isLike\r\n\t\t\t\t\t\tthis.$store.commit(\"detailModule/changeData\", {\r\n\t\t\t\t\t\t\tkey: \"isLike\",\r\n\t\t\t\t\t\t\tvalue: !this.isLike\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\r\n\t\t\t\t\t\t//关闭加载提示\r\n\t\t\t\t\t\tthis.$toast.clear();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//加入购物车\r\n\t\t\taddShopcart(type) {\r\n\r\n\t\t\t\tlet str = type == 'buy' ? '立即购买' : '加入购物车';\r\n\t\t\t\tlet islogin = utils.isLogin('登录后才能' + str + '，是否登录？', this)\r\n\t\t\t\tif(!islogin) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//获取商品规格\r\n\t\t\t\tlet ruleData = [];\r\n\t\t\t\tthis.rules.forEach(v => {\r\n\t\t\t\t\tfor(let i = 0; i < v.rule.length; i++) {\r\n\t\t\t\t\t\tif(v.rule[i].isActive) {\r\n\t\t\t\t\t\t\truleData.push(v.rule[i].text);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//获取用户token字段\r\n\t\t\t\tlet tokenString = utils.getToken(this);\r\n\r\n\t\t\t\t//发送加入购物车请求\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: \"/addShopcart\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\t\tpid: this.productDetailData.pid,\r\n\t\t\t\t\t\tcount: this.count,\r\n\t\t\t\t\t\trule: ruleData.join(\"/\"),\r\n\t\t\t\t\t\ttokenString\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttransformRequest: utils.transformRequest\r\n\t\t\t\t}).then(result => {\r\n\r\n\t\t\t\t\tif(result.data.code == 3000) {\r\n\t\t\t\t\t\t//加载提示\r\n\t\t\t\t\t\tthis.$toast.success({\r\n\t\t\t\t\t\t\tmessage: result.data.msg\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif(result.data.status == 1) {\r\n\t\t\t\t\t\t\t//新增一条数据\r\n\t\t\t\t\t\t\tthis.$store.commit(\"detailModule/changeData\", {\r\n\t\t\t\t\t\t\t\tkey: \"shopcartTotal\",\r\n\t\t\t\t\t\t\t\tvalue: this.shopcartTotal + 1\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t//如果是立即购买，则跳转到结算页面，携带sid到立即结算页面\r\n\t\t\t\t\t\tif(type == 'buy') {\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tname: 'Pay',\r\n\t\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t\tsids: result.data.sid\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).catch(err => {\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//获取购物车总商品数量\r\n\t\t\tshopcartRows() {\r\n\t\t\t\tlet tokenString = utils.getToken(this);\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\t\turl: \"/shopcartRows\",\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tappkey: this.appkey,\r\n\t\t\t\t\t\t\ttokenString\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\tif(result.data.code == 8000) {\r\n\t\t\t\t\t\t\tthis.$store.commit(\"detailModule/changeData\", {\r\n\t\t\t\t\t\t\t\tkey: \"shopcartTotal\",\r\n\t\t\t\t\t\t\t\tvalue: result.data.result\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tgoPage(name) {\r\n\r\n\t\t\t\tif(name == 'Shopcart') {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: name\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$toast('该功能尚未开放')\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//提交订单 \r\n\t\t\tcommit() {\r\n\t\t\t\tthis.addShopcart('buy')\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped=\"scoped\">\r\n\t.detail {\r\n\t\tbackground-color: #fff;\r\n\t\t/deep/.van-nav-bar {\r\n\t\t\tbackground-color: #CB9D58;\r\n\t\t\t/deep/.van-nav-bar__title,\r\n\t\t\t.van-nav-bar__text,\r\n\t\t\t.van-nav-bar__arrow {\r\n\t\t\t\tcolor: white !important;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.detail-box {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding-bottom: 100px;\r\n\t\t\tpadding-top: 46px;\r\n\t\t\tmin-height: 521px;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\t\t.rule-box {\r\n\t\t\twidth: calc(100% - 20px);\r\n\t\t\tpadding: 0 10px;\r\n\t\t}\r\n\t\t.image {\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: relative;\r\n\t\t\t.pro-box {\r\n\t\t\t\twidth: calc(100% - 30px);\r\n\t\t\t\tpadding: 5px 15px;\r\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.6);\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\t\t\t.pro-name {\r\n\t\t\t\tfloat: left;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tline-height: 24px;\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t\t&.small {\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.pro-like {\r\n\t\t\t\tfloat: right;\r\n\t\t\t\twidth: 24px;\r\n\t\t\t\theight: 24px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.pro-rule {\r\n\t\t\tmargin-top: 10px;\r\n\t\t\tpadding: 10px;\r\n\t\t}\r\n\t\t.rule-item {\r\n\t\t\theight: 30px;\r\n\t\t\tpadding: 10px 0;\r\n\t\t}\r\n\t\t.rule-list>li {\r\n\t\t\tfloat: left;\r\n\t\t\twidth: 70px;\r\n\t\t\theight: 30px;\r\n\t\t\tline-height: 30px;\r\n\t\t\tcolor: #333;\r\n\t\t\tbackground-color: #F0F2F3;\r\n\t\t\tmargin-right: 20px;\r\n\t\t\tborder-radius: 20px;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 14px;\r\n\t\t\t&.active {\r\n\t\t\t\tbackground-color: #CB9D58;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.rule-title {\r\n\t\t\tline-height: 30px;\r\n\t\t\twidth: 60px;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tcolor: #444;\r\n\t\t}\r\n\t\t.pro-desc {\r\n\t\t\tmargin-top: 10px;\r\n\t\t}\r\n\t\t.desc-title {\r\n\t\t\tcolor: #444;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tmargin-bottom: 6px;\r\n\t\t\tmargin-left: 10px;\r\n\t\t}\r\n\t\t.desc-info {\r\n\t\t\tcolor: #666;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tpadding: 5px 10px;\r\n\t\t\tborder-radius: 8px;\r\n\t\t\tbox-shadow: 2px 2px 3px 1px #CB9D58;\r\n\t\t\t>p {\r\n\t\t\t\tmargin: 10px 0 0;\r\n\t\t\t}\r\n\t\t\t>p:first-child {\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.pro-price-count {\r\n\t\t\twidth: calc(100% - 20px);\r\n\t\t\tpadding: 0 10px;\r\n\t\t\theight: 50px;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 50px;\r\n\t\t\tleft: 0;\r\n\t\t}\r\n\t\t.price {\r\n\t\t\tcolor: #CB9D58;\r\n\t\t\tfont-size: 18px;\r\n\t\t\tline-height: 50px;\r\n\t\t}\r\n\t\t.count {\r\n\t\t\tline-height: 50px;\r\n\t\t}\r\n\t\t.action {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 50px;\r\n\t\t\tbackground-color: #E5C474;\r\n\t\t\t/deep/.van-goods-action-icon {\r\n\t\t\t\tbackground-color: #E5C474;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t}\r\n\t\t\t.cart {\r\n\t\t\t\twidth: 151px;\r\n\t\t\t\theight: 50px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\t\t\tbutton {\r\n\t\t\t\theight: 50px;\r\n\t\t\t\tpadding: 0 20px;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\tbackground-color: #D18E29;\r\n\t\t\t}\r\n\t\t\tbutton:last-child {\r\n\t\t\t\tbackground-color: #A55803;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/deep/ .van-info {\r\n\t\t\ttop: 5px;\r\n\t\t\tright: -5px;\r\n\t\t\tbackground-color: #A55803;\r\n\t\t\tpadding-top: 2px;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=3573084a&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=3573084a&lang=less&scoped=scoped&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3573084a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}